{"version":3,"sources":["webpack:///./node_modules/core-js/internals/string-repeat.js","webpack:///./src/effects/addressEffect.js","webpack:///./src/views/orderConfirmation/Order.vue?694c","webpack:///./node_modules/core-js/internals/this-number-value.js","webpack:///./src/views/orderConfirmation/TopArea.vue?1acf","webpack:///./src/effects/cartEffects.js","webpack:///./node_modules/core-js/modules/es.array.find.js","webpack:///./node_modules/core-js/modules/es.number.to-fixed.js","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue","webpack:///./src/views/orderConfirmation/TopArea.vue","webpack:///./src/views/orderConfirmation/addressEffect.js","webpack:///./src/views/orderConfirmation/TopArea.vue?8243","webpack:///./src/views/orderConfirmation/ProductList.vue","webpack:///./src/views/orderConfirmation/ProductList.vue?285e","webpack:///./src/views/orderConfirmation/Order.vue","webpack:///./src/views/orderConfirmation/Order.vue?abf4","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?0e29","webpack:///./src/views/orderConfirmation/OrderConfirmation.vue?e161","webpack:///./src/views/orderConfirmation/ProductList.vue?1361"],"names":["global","toIntegerOrInfinity","toString","requireObjectCoercible","RangeError","module","exports","count","str","this","result","n","Infinity","useCommonAddressEffect","store","useStore","getAddressList","forceUpdate","addressList","state","length","get","data","commit","uncurryThis","valueOf","useCommonCartEffect","shopId","cartList","changeCartItemInfo","productId","productInfo","num","productList","computed","notEmptyProductList","i","product","shopName","calculations","total","price","allChecked","check","toFixed","$","$find","find","addToUnscopables","FIND","SKIPS_HOLES","Array","target","proto","forced","callbackfn","arguments","undefined","thisNumberValue","$repeat","fails","String","floor","Math","repeat","stringSlice","slice","un$ToFixed","pow","x","acc","log","x2","multiply","c","index","c2","divide","dataToString","s","t","FORCED","fractionDigits","e","z","j","k","number","fractDigits","sign","class","_createElementBlock","_createVNode","_component_TopArea","_component_ProductList","_component_Order","_createElementVNode","_hoisted_12","onClick","$setup","_hoisted_5","_toDisplayString","city","department","houseNumber","name","phone","_hoisted_10","_hoisted_11","_hoisted_13","useAddressEffect","route","useRoute","addressId","params","currentAddress","item","_id","setup","router","useRouter","id","handleBackClick","back","handleAddressClick","push","address","__exports__","_Fragment","_renderList","key","src","imgUrl","_hoisted_9","_hoisted_4","useMakeOrderEffect","handleConfirmOrder","isCanceled","products","value","post","errno","useShowMaskEffect","showConfirm","ref","handleShowConfirmChange","status","components","TopArea","ProductList","Order","render"],"mappings":"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","file":"js/orderConfirmation.83f549af.js","sourcesContent":["'use strict';\nvar global = require('../internals/global');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar toString = require('../internals/to-string');\nvar requireObjectCoercible = require('../internals/require-object-coercible');\n\nvar RangeError = global.RangeError;\n\n// `String.prototype.repeat` method implementation\n// https://tc39.es/ecma262/#sec-string.prototype.repeat\nmodule.exports = function repeat(count) {\n  var str = toString(requireObjectCoercible(this));\n  var result = '';\n  var n = toIntegerOrInfinity(count);\n  if (n < 0 || n == Infinity) throw RangeError('Wrong number of repetitions');\n  for (;n > 0; (n >>>= 1) && (str += str)) if (n & 1) result += str;\n  return result;\n};\n","import { useStore } from 'vuex'\nimport { get } from '../utils/request'\n\nconst useCommonAddressEffect = () => {\n  const store = useStore()\n\n  const getAddressList = async (forceUpdate) => {\n    const addressList = store.state.addressList;\n    if(forceUpdate || !addressList.length) {\n      const result = await get('/api/user/address')\n      if(result?.data?.length) {\n        store.commit('changeAddressList', result.data)\n      }\n    }\n  }\n\n  return { getAddressList }\n}\n\nexport default useCommonAddressEffect","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./Order.vue?vue&type=style&index=0&id=13c85c26&lang=scss&scoped=true\"","var uncurryThis = require('../internals/function-uncurry-this');\n\n// `thisNumberValue` abstract operation\n// https://tc39.es/ecma262/#sec-thisnumbervalue\nmodule.exports = uncurryThis(1.0.valueOf);\n","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./TopArea.vue?vue&type=style&index=0&id=275476f1&lang=scss&scoped=true\"","import { computed } from 'vue'\nimport { useStore } from 'vuex'\n// 购物车相关逻辑\nexport const useCommonCartEffect = (shopId) => {\n  const store = useStore()\n  const cartList = store.state.cartList;\n  const changeCartItemInfo = (shopId, productId, productInfo, num) => {\n    store.commit('changeCartItemInfo', {\n      shopId, productId, productInfo, num\n    })\n  }\n  \n  const productList = computed(() => {\n    const productList = cartList[shopId]?.productList || {}\n    const notEmptyProductList = {}\n    for(let i in productList) {\n      const product = productList[i]\n      if(product.count > 0 ) {\n        notEmptyProductList[i] = product\n      }\n    }\n    return notEmptyProductList\n  })\n\n  const shopName = computed(() => {\n    const shopName = cartList[shopId]?.shopName || ''\n    return shopName\n  })\n\n  const calculations = computed(() => {\n    const productList = cartList[shopId]?.productList\n    const result = { total: 0, price: 0, allChecked: true}\n    if(productList) {\n       for(let i in productList) {\n         const product = productList[i]\n         result.total += product.count\n         if(product.check) {\n           result.price += (product.count * product.price)\n         }\n         if(product.count > 0 && !product.check) {\n           result.allChecked = false\n         }\n      }\n    }\n    result.price = result.price.toFixed(2)\n    return result\n  })\n\n  return { cartList, shopName, productList, calculations, changeCartItemInfo }\n}","'use strict';\nvar $ = require('../internals/export');\nvar $find = require('../internals/array-iteration').find;\nvar addToUnscopables = require('../internals/add-to-unscopables');\n\nvar FIND = 'find';\nvar SKIPS_HOLES = true;\n\n// Shouldn't skip holes\nif (FIND in []) Array(1)[FIND](function () { SKIPS_HOLES = false; });\n\n// `Array.prototype.find` method\n// https://tc39.es/ecma262/#sec-array.prototype.find\n$({ target: 'Array', proto: true, forced: SKIPS_HOLES }, {\n  find: function find(callbackfn /* , that = undefined */) {\n    return $find(this, callbackfn, arguments.length > 1 ? arguments[1] : undefined);\n  }\n});\n\n// https://tc39.es/ecma262/#sec-array.prototype-@@unscopables\naddToUnscopables(FIND);\n","'use strict';\nvar $ = require('../internals/export');\nvar global = require('../internals/global');\nvar uncurryThis = require('../internals/function-uncurry-this');\nvar toIntegerOrInfinity = require('../internals/to-integer-or-infinity');\nvar thisNumberValue = require('../internals/this-number-value');\nvar $repeat = require('../internals/string-repeat');\nvar fails = require('../internals/fails');\n\nvar RangeError = global.RangeError;\nvar String = global.String;\nvar floor = Math.floor;\nvar repeat = uncurryThis($repeat);\nvar stringSlice = uncurryThis(''.slice);\nvar un$ToFixed = uncurryThis(1.0.toFixed);\n\nvar pow = function (x, n, acc) {\n  return n === 0 ? acc : n % 2 === 1 ? pow(x, n - 1, acc * x) : pow(x * x, n / 2, acc);\n};\n\nvar log = function (x) {\n  var n = 0;\n  var x2 = x;\n  while (x2 >= 4096) {\n    n += 12;\n    x2 /= 4096;\n  }\n  while (x2 >= 2) {\n    n += 1;\n    x2 /= 2;\n  } return n;\n};\n\nvar multiply = function (data, n, c) {\n  var index = -1;\n  var c2 = c;\n  while (++index < 6) {\n    c2 += n * data[index];\n    data[index] = c2 % 1e7;\n    c2 = floor(c2 / 1e7);\n  }\n};\n\nvar divide = function (data, n) {\n  var index = 6;\n  var c = 0;\n  while (--index >= 0) {\n    c += data[index];\n    data[index] = floor(c / n);\n    c = (c % n) * 1e7;\n  }\n};\n\nvar dataToString = function (data) {\n  var index = 6;\n  var s = '';\n  while (--index >= 0) {\n    if (s !== '' || index === 0 || data[index] !== 0) {\n      var t = String(data[index]);\n      s = s === '' ? t : s + repeat('0', 7 - t.length) + t;\n    }\n  } return s;\n};\n\nvar FORCED = fails(function () {\n  return un$ToFixed(0.00008, 3) !== '0.000' ||\n    un$ToFixed(0.9, 0) !== '1' ||\n    un$ToFixed(1.255, 2) !== '1.25' ||\n    un$ToFixed(1000000000000000128.0, 0) !== '1000000000000000128';\n}) || !fails(function () {\n  // V8 ~ Android 4.3-\n  un$ToFixed({});\n});\n\n// `Number.prototype.toFixed` method\n// https://tc39.es/ecma262/#sec-number.prototype.tofixed\n$({ target: 'Number', proto: true, forced: FORCED }, {\n  toFixed: function toFixed(fractionDigits) {\n    var number = thisNumberValue(this);\n    var fractDigits = toIntegerOrInfinity(fractionDigits);\n    var data = [0, 0, 0, 0, 0, 0];\n    var sign = '';\n    var result = '0';\n    var e, z, j, k;\n\n    // TODO: ES2018 increased the maximum number of fraction digits to 100, need to improve the implementation\n    if (fractDigits < 0 || fractDigits > 20) throw RangeError('Incorrect fraction digits');\n    // eslint-disable-next-line no-self-compare -- NaN check\n    if (number != number) return 'NaN';\n    if (number <= -1e21 || number >= 1e21) return String(number);\n    if (number < 0) {\n      sign = '-';\n      number = -number;\n    }\n    if (number > 1e-21) {\n      e = log(number * pow(2, 69, 1)) - 69;\n      z = e < 0 ? number * pow(2, -e, 1) : number / pow(2, e, 1);\n      z *= 0x10000000000000;\n      e = 52 - e;\n      if (e > 0) {\n        multiply(data, 0, z);\n        j = fractDigits;\n        while (j >= 7) {\n          multiply(data, 1e7, 0);\n          j -= 7;\n        }\n        multiply(data, pow(10, j, 1), 0);\n        j = e - 1;\n        while (j >= 23) {\n          divide(data, 1 << 23);\n          j -= 23;\n        }\n        divide(data, 1 << j);\n        multiply(data, 1, 1);\n        divide(data, 2);\n        result = dataToString(data);\n      } else {\n        multiply(data, 0, z);\n        multiply(data, 1 << -e, 0);\n        result = dataToString(data) + repeat('0', fractDigits);\n      }\n    }\n    if (fractDigits > 0) {\n      k = result.length;\n      result = sign + (k <= fractDigits\n        ? '0.' + repeat('0', fractDigits - k) + result\n        : stringSlice(result, 0, k - fractDigits) + '.' + stringSlice(result, k - fractDigits));\n    } else {\n      result = sign + result;\n    } return result;\n  }\n});\n","<template>\n  <div class=\"wrapper\">\n    <TopArea />\n    <ProductList />\n    <Order />\n  </div>\n</template>\n\n<script>\nimport useCommonAddressEffect from '../../effects/addressEffect'\nimport TopArea from './TopArea'\nimport ProductList from './ProductList'\nimport Order from './Order'\n\nexport default {\n  name: 'OrderConfirmation',\n  components: { TopArea, ProductList, Order },\n  setup() {\n    const { getAddressList } = useCommonAddressEffect()\n    getAddressList()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.wrapper {\n  position: absolute;\n  left: 0;\n  right: 0;\n  top: 0;\n  bottom: 0;\n  background: $dark-bgColor;\n  overflow-y: scroll;\n}\n</style>","<template>\n  <div class=\"top\">\n    <div class=\"top__header\">\n      <div\n        class=\"iconfont top__header__back\"\n        @click=\"handleBackClick\"\n      >&#xe6f2;</div>\n      确认订单\n    </div>\n    <div class=\"top__receiver\">\n      <div class=\"top__receiver__title\">收货地址</div>\n      <div v-if=\"address\" @click=\"handleAddressClick\">\n        <div class=\"top__receiver__address\">\n          {{address.city}}{{address.department}}{{address.houseNumber}}\n        </div>\n        <div class=\"top__receiver__info\">\n          <span class=\"top__receiver__info__name\">{{address.name}}</span>\n          <span class=\"top__receiver__info__name\">{{address.phone}}</span>\n        </div>\n        <div class=\"iconfont top__receiver__icon\">&#xe6f2;</div>\n      </div>\n      <div v-else>\n        <div class=\"top__receiver__address\">\n          暂无可用地址\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { useRouter, useRoute } from 'vue-router'\nimport useAddressEffect from './addressEffect'\n\nexport default {\n  name: 'TopArea',\n  setup() {\n    const router = useRouter()\n    const route = useRoute()\n    const shopId = route.params.id\n    const handleBackClick = () => { router.back() }\n    const handleAddressClick = () => { router.push(`/chooseAddressList/${shopId}`) }\n    const address = useAddressEffect()\n    return { handleBackClick, handleAddressClick, address }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.top {\n  position: relative;\n  height: 1.96rem;\n  background-size: 100% 1.59rem;\n  background-image: linear-gradient(0deg, rgba(0,145,255,0.00) 4%, #0091FF 50%);\n  background-repeat: no-repeat;\n  &__header {\n    position: relative;\n    padding-top: .2rem;\n    line-height: .24rem;\n    color: $bgColor;\n    text-align: center;\n    font-size: .16rem;\n    &__back {\n      position: absolute;\n      left: .18rem;\n      font-size: .22rem;\n    }\n  }\n  &__receiver {\n    position: absolute;\n    left: .18rem;\n    right: .18rem;\n    bottom: 0;\n    height: 1.11rem;\n    background: $bgColor;\n    border-radius: .04rem;\n    &__title {\n      line-height: .22rem;\n      padding: .16rem 0 .14rem .16rem;\n      font-size: .16rem;\n      color: $content-fontcolor;\n    }\n    &__address {\n      line-height: .2rem;\n      padding: 0 .4rem 0 .16rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__info {\n      padding: .06rem 0 0 .16rem;\n      &__name {\n        margin-right: .06rem;\n        line-height: .18rem;\n        font-size: .12rem;\n        color: $medium-fontColor;\n      }\n    }\n    &__icon {\n      transform: rotate(180deg);\n      position: absolute;\n      right: .16rem;\n      top: .5rem;\n      color: $medium-fontColor;\n      font-size: .2rem;\n    }\n  }\n}\n</style>","import { computed } from 'vue'\nimport { useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\n\nconst useAddressEffect = () => {\n  const route = useRoute()\n  const addressId = route.params.addressId\n  const currentAddress = computed(() => {\n    const store = useStore()\n    const addressList = store.state.addressList\n    return addressList.find(item => item._id === addressId) || addressList[0]\n  })\n  return currentAddress\n}\n\nexport default useAddressEffect\n","import { render } from \"./TopArea.vue?vue&type=template&id=275476f1&scoped=true\"\nimport script from \"./TopArea.vue?vue&type=script&lang=js\"\nexport * from \"./TopArea.vue?vue&type=script&lang=js\"\n\nimport \"./TopArea.vue?vue&type=style&index=0&id=275476f1&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\VSCode\\\\VS Code File\\\\project\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-275476f1\"]])\n\nexport default __exports__","<template>\n<div class=\"products\">\n  <div class=\"products__title\">\n    {{shopName}}\n  </div>\n  <div class=\"products__wrapper\">\n    <div class=\"products__list\">\n      <div\n        v-for=\"item in productList\"\n        :key=\"item._id\"\n        class=\"products__item\"\n      >\n        <img class=\"products__item__img\" :src=\"item.imgUrl\" />\n        <div class=\"products__item__detail\">\n          <h4 class=\"products__item__title\">{{item.name}}</h4>\n          <p class=\"products__item__price\">\n            <span>\n              <span class=\"products__item__yen\">&yen; </span>\n              {{item.price}} x {{item.count}}\n            </span>\n            <span class=\"products__item__total\">\n              <span class=\"products__item__yen\">&yen; </span>\n              {{(item.price * item.count).toFixed(2)}}\n            </span>\n          </p>\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n</template>\n\n<script>\nimport { useRoute } from 'vue-router'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nexport default {\n  name: 'ProductList',\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const { shopName, productList } = useCommonCartEffect(shopId)\n    return { shopName, productList }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n@import '../../style/mixins.scss';\n.products {\n  margin: .16rem .18rem .1rem .18rem;\n  background: $bgColor;\n  &__title {\n    padding: .16rem;\n    font-size: .16rem;\n    color: $content-fontcolor;\n  }\n  &__wrapper {\n    overflow-y: scroll;\n    margin: 0 .18rem;\n    position: absolute;\n    left: 0;\n    right: 0;\n    bottom: .6rem;\n    top: 2.6rem;\n  }\n  &__list {\n    background: $bgColor;\n  }\n  &__item {\n    position: relative;\n    display: flex;\n    padding: 0 .16rem 0.16rem .16rem;\n    &__img {\n      width: .46rem;\n      height: .46rem;\n      margin-right: .16rem;\n    }\n    &__detail {\n      flex: 1;\n    }\n    &__title {\n      margin: 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $content-fontcolor;\n      @include ellipsis;\n    }\n    &__price {\n      display: flex;\n      margin: .06rem 0 0 0;\n      line-height: .2rem;\n      font-size: .14rem;\n      color: $hightlight-fontColor;\n    }\n    &__total {\n      flex: 1;\n      text-align: right;\n      color: $dark-fontColor;\n    }\n    &__yen {\n      font-size: .12rem;\n    }\n  }\n}\n</style>","import { render } from \"./ProductList.vue?vue&type=template&id=51236a8a&scoped=true\"\nimport script from \"./ProductList.vue?vue&type=script&lang=js\"\nexport * from \"./ProductList.vue?vue&type=script&lang=js\"\n\nimport \"./ProductList.vue?vue&type=style&index=0&id=51236a8a&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\VSCode\\\\VS Code File\\\\project\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-51236a8a\"]])\n\nexport default __exports__","<template>\n  <div class=\"order\">\n    <div class=\"order__price\">实付金额 <b>¥{{calculations.price}}</b></div>\n    <div\n      v-if=\"address\"\n      class=\"order__btn\"\n      @click=\"() => handleShowConfirmChange(true)\"\n    >提交订单</div>\n  </div>\n  <div\n    class=\"mask\"\n    v-show=\"showConfirm\"\n    @click=\"() => handleShowConfirmChange(false)\"\n  >\n    <div class=\"mask__content\" @click.stop>\n      <h3 class=\"mask__content__title\">确认要离开收银台？</h3>\n      <p class=\"mask__content__desc\">请尽快完成支付，否则将被取消</p>\n      <div class=\"mask__content__btns\">\n        <div\n          class=\"mask__content__btn mask__content__btn--first\"\n          @click=\"() => handleConfirmOrder(true)\"\n        >取消订单</div>\n        <div\n          class=\"mask__content__btn mask__content__btn--last\"\n          @click=\"() => handleConfirmOrder(false)\"\n        >确认支付</div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script>\nimport { ref } from 'vue'\nimport { useRouter, useRoute } from 'vue-router'\nimport { useStore } from 'vuex'\nimport { post } from '../../utils/request'\nimport { useCommonCartEffect } from '../../effects/cartEffects'\nimport useAddressEffect from './addressEffect'\n\n// 下单相关逻辑\nconst useMakeOrderEffect = (shopId, shopName, productList, address) => {\n  const router = useRouter()\n  const store = useStore()\n\n  const handleConfirmOrder = async (isCanceled) => {\n    const products = []\n    for(let i in productList.value) {\n      const product = productList.value[i]\n      products.push({id: product._id, num: product.count})\n    }\n    try {\n      const result = await post('/api/order', {\n        addressId: address.value._id,\n        shopId,\n        shopName: shopName.value,\n        isCanceled,\n        products\n      })\n      if (result?.errno === 0) {\n        store.commit('clearCartData11', shopId)\n        router.push({ name: 'OrderList' })\n      } \n    } catch (e) {\n      // 提示下单失败\n    }\n  }\n  return { handleConfirmOrder }\n}\n\n// 蒙层展示相关的逻辑\nconst useShowMaskEffect = () => {\n  const showConfirm = ref(false)\n  const handleShowConfirmChange = (status) => {\n    showConfirm.value = status\n  }\n  return { showConfirm, handleShowConfirmChange }\n}\n\nexport default {\n  name: 'Order',\n  setup() {\n    const route = useRoute()\n    const shopId = route.params.id\n    const address = useAddressEffect()\n    const { calculations, shopName, productList } = useCommonCartEffect(shopId)\n    const { handleConfirmOrder } = useMakeOrderEffect(shopId, shopName, productList, address)\n    const { showConfirm, handleShowConfirmChange } = useShowMaskEffect()\n    return { address, showConfirm, handleShowConfirmChange, calculations, handleConfirmOrder }\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n@import '../../style/viriables.scss';\n.order {\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  display: flex;\n  height: .49rem;\n  line-height: .49rem;\n  background: $bgColor;\n  &__price {\n    flex: 1;\n    text-indent: .24rem;\n    font-size: .14rem;\n    color: $content-fontcolor;\n  }\n  &__btn {\n    width: .98rem;\n    background: $btn-bgColor;\n    color: $bgColor;\n    text-align: center;\n    font-size: .14rem;\n  }\n}\n.mask {\n  z-index: 1;\n  position: absolute;\n  left: 0;\n  right: 0;\n  bottom: 0;\n  top: 0;\n  background: rgba(0, 0, 0, .5);\n  &__content {\n    position: absolute;\n    top: 50%;\n    left: 50%;\n    transform: translate(-50%, -50%);\n    width: 3rem;\n    height: 1.56rem;\n    background: $bgColor;\n    text-align: center;\n    border-radius: .04rem;\n    &__title {\n      margin: .24rem 0 0 0;\n      line-height: .26rem;\n      font-size: .18rem;\n      color: $content-fontcolor;\n    }\n    &__desc {\n      margin: .08rem 0 0 0;\n      font-size: .14rem;\n      color: $medium-fontColor;\n    }\n    &__btns {\n      display: flex;\n      margin: .24rem .58rem;\n    }\n    &__btn {\n      flex: 1;\n      width: .8rem;\n      line-height: .32rem;\n      border-radius: .16rem;\n      font-size: .14rem;\n      &--first {\n        margin-right: .12rem;\n        border: .01rem solid $btn-bgColor;\n        color: $btn-bgColor;\n      }\n      &--last {\n        margin-left: .12rem;\n        background: $btn-bgColor;\n        color: #fff;\n      }\n    }\n  }\n}\n</style>","import { render } from \"./Order.vue?vue&type=template&id=13c85c26&scoped=true\"\nimport script from \"./Order.vue?vue&type=script&lang=js\"\nexport * from \"./Order.vue?vue&type=script&lang=js\"\n\nimport \"./Order.vue?vue&type=style&index=0&id=13c85c26&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\VSCode\\\\VS Code File\\\\project\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-13c85c26\"]])\n\nexport default __exports__","import { render } from \"./OrderConfirmation.vue?vue&type=template&id=1bad0ca6&scoped=true\"\nimport script from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\nexport * from \"./OrderConfirmation.vue?vue&type=script&lang=js\"\n\nimport \"./OrderConfirmation.vue?vue&type=style&index=0&id=1bad0ca6&lang=scss&scoped=true\"\n\nimport exportComponent from \"D:\\\\VSCode\\\\VS Code File\\\\project\\\\jingdong\\\\node_modules\\\\vue-loader-v16\\\\dist\\\\exportHelper.js\"\nconst __exports__ = /*#__PURE__*/exportComponent(script, [['render',render],['__scopeId',\"data-v-1bad0ca6\"]])\n\nexport default __exports__","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./OrderConfirmation.vue?vue&type=style&index=0&id=1bad0ca6&lang=scss&scoped=true\"","export * from \"-!../../../node_modules/mini-css-extract-plugin/dist/loader.js??ref--9-oneOf-1-0!../../../node_modules/css-loader/dist/cjs.js??ref--9-oneOf-1-1!../../../node_modules/vue-loader-v16/dist/stylePostLoader.js!../../../node_modules/postcss-loader/src/index.js??ref--9-oneOf-1-2!../../../node_modules/sass-loader/dist/cjs.js??ref--9-oneOf-1-3!../../../node_modules/cache-loader/dist/cjs.js??ref--1-0!../../../node_modules/vue-loader-v16/dist/index.js??ref--1-1!./ProductList.vue?vue&type=style&index=0&id=51236a8a&lang=scss&scoped=true\""],"sourceRoot":""}